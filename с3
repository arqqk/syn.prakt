import random
import time
from threading import Thread
from queue import Queue
x
def number_generator(queue):
    while True:
        num = random.randint(1, 100)
        print(f"Сгенерировано: {num}")
        queue.put(num)
        time.sleep(1)
        if not queue.empty() and queue.queue[-1] == 0:
            break

def user_input(queue):
    while True:
        cmd = input("Введите 0 для остановки: ")
        if cmd == "0":
            queue.put(0)
            break

def main():
    print("Программа генерирует случайные числа (1 число в секунду).")
    print("Введите 0, чтобы остановить генерацию.\n")
    
    queue = Queue()
    
    # Запускаем генератор чисел в отдельном потоке
    generator_thread = Thread(target=number_generator, args=(queue,))
    generator_thread.daemon = True
    generator_thread.start()
    
    # Запускаем обработку пользовательского ввода
    input_thread = Thread(target=user_input, args=(queue,))
    input_thread.start()
    
    # Ожидаем завершения
    input_thread.join()
    
    # Собираем все числа
    numbers = []
    while not queue.empty():
        numbers.append(queue.get())
    
    # Выводим результат (исключая последний 0)
    if len(numbers) > 1:
        print("\nВсе сгенерированные числа, кроме последнего нуля:")
        print(numbers[:-1])
    else:
        print("\nГенерация остановлена, чисел нет.")

if __name__ == "__main__":
    main()
